image: wraithbb/lynxware-cpp

stages:
  - build

before_script:
  - rm -rf ../ngengine
  - echo -e $SSH_KEY_NGENGINE > ~/.ssh/id_rsa
  - echo -e "Host gitlab.com\n\tStrictHostKeyChecking no\n" >> /root/.ssh/config
  - currentdir=`pwd`
  - cd ../
  - git clone git@gitlab.com:lynxware/ngengine.git
  - cd ngengine/
  - git submodule init
  - git submodule update
  - cd $currentdir

build:
  stage: build
  script:
    - mkdir build/
    - cd build
    - cmake ..
    - make